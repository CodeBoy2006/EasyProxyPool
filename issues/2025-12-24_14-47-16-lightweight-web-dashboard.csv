"id","priority","phase","area","title","description","acceptance_criteria","test_mcp","review_initial_requirements","review_regression_requirements","dev_state","review_initial_state","review_regression_state","git_state","owner","refs","notes"
"WEBUI-000","P0","1","both","Define dashboard MVP and security boundary","Lock scope for a lightweight Web dashboard (status/stats/nodes/logs) and define data sanitization + exposure policy.","Document MVP IA + refresh targets; list explicit redaction rules (no passwords/tokens/upstream URLs); specify default-safe behavior (recommend loopback bind; if non-loopback then auth required).","AUTOSERVER","Scope must stay “no heavy frontend toolchain”; security defaults explicit; confirm which endpoints require auth and whether /healthz is exempt.","Verify plan aligns with existing admin server and xray metrics model; confirm no breaking changes to existing /status output format.","未开始","未开始","未开始","未提交","","plan/2025-12-24_14-39-49-lightweight-web-dashboard.md:16;plan/2025-12-24_14-39-49-lightweight-web-dashboard.md:71;internal/server/admin/admin.go:31;README.md:176",""
"WEBUI-010","P0","2","backend","Extend admin API and add auth middleware","Add versioned admin endpoints (/api/...) and a simple auth middleware that protects UI/API/SSE with configurable exemptions.","Implement endpoints: GET /api/status, /api/info, /api/nodes (or equivalent); add admin auth modes (disabled/basic/shared_token); unauthenticated requests to protected paths return 401; /healthz behavior matches config.","AUTOSERVER","No secrets in JSON; auth checks must not log credentials/token; avoid breaking /healthz and /status; keep handlers small and reuse existing status code paths.","Run go test ./...; manual curl checks for 200/401 across endpoints; verify /status remains backward compatible.","未开始","未开始","未开始","未提交","","plan/2025-12-24_14-39-49-lightweight-web-dashboard.md:22;internal/server/admin/admin.go:31;internal/config/config.go:66",""
"WEBUI-020","P0","3","backend","Persist node health snapshot and expose /api/nodes","Store latest xray observatory health (alive/delay/last_seen/last_try) in-process and expose a safe read-only snapshot for the dashboard.","Updater writes node health snapshot after metrics fetch; /api/nodes returns list with stable fields (id/tag, alive, delay_ms, last_seen, last_try) + summary (total/alive); response excludes any credentials.","AUTOSERVER","Snapshot storage must be concurrency-safe; ensure tag↔nodeID mapping is consistent with current pool generation; avoid O(N^2) processing for large node counts.","Simulate missing/empty observatory data; ensure updater doesn’t crash; verify /api/nodes works when xray disabled (returns empty/disabled info).","未开始","未开始","未开始","未提交","","plan/2025-12-24_14-39-49-lightweight-web-dashboard.md:27;internal/orchestrator/updater.go:133;internal/xray/metrics.go:13;internal/orchestrator/status.go:8",""
"WEBUI-030","P0","4","backend","Implement log ring buffer and SSE streaming","Add a bounded in-memory log buffer and an SSE endpoint to stream logs to the dashboard with filtering and backpressure behavior.","Logs still go to stdout; in-memory buffer keeps last N lines; GET /api/events/logs establishes SSE and emits events; supports since + level filtering; auth is enforced (token via query or cookie for EventSource).","AUTOSERVER","No token/credentials in logs; buffer must be bounded; handle slow clients (drop/close); cap concurrent SSE clients and return 429 when exceeded.","go test ./...; manual check with curl for SSE stream; verify service behavior unchanged when no clients connected.","未开始","未开始","未开始","未提交","","plan/2025-12-24_14-39-49-lightweight-web-dashboard.md:32;internal/logging/logging.go:9;internal/server/admin/admin.go:31",""
"WEBUI-040","P0","5","both","Build embedded dashboard UI (no build chain)","Serve an embedded single-page dashboard that polls status/nodes and consumes SSE logs, including a simple auth UX.","Admin serves UI at / or /ui/; UI shows updater/pool stats and nodes table; log panel streams SSE; token/basic creds can be configured and stored locally; unauthorized users see a login prompt (or 401-handling page).","AUTOE2E","Keep assets minimal; ensure UI doesn’t leak secrets; handle 401 gracefully and re-auth; avoid tight polling loops (2–5s interval).","Manual run: go run ./cmd/easyproxypool -config config.yaml; open UI; verify status updates and SSE logs; verify auth required when enabled.","未开始","未开始","未开始","未提交","","plan/2025-12-24_14-39-49-lightweight-web-dashboard.md:38;internal/server/admin/admin.go:31;README.md:176",""
"WEBUI-050","P1","6","both","Add config knobs and update docs","Introduce admin UI/auth/log streaming configuration and document secure usage and examples.","config.yaml includes admin ui/auth fields; README.md + README.zh-CN.md explain how to enable UI, auth modes, and endpoints; docs explicitly warn against exposing admin/UI publicly without auth/ACL.","AUTOSERVER","Config defaults must be backward compatible; validation errors are clear; docs examples match actual endpoints and default ports.","Verify sample config loads; run go test ./...; manual curl examples in README succeed.","未开始","未开始","未开始","未提交","","plan/2025-12-24_14-39-49-lightweight-web-dashboard.md:46;internal/config/config.go:66;config.yaml:94;README.md:176;README.zh-CN.md:174",""
"WEBUI-060","P0","7","both","Add unit + HTTP tests and run regressions","Add focused tests for new observability/auth features and ensure existing behavior remains stable.","Unit tests cover log buffer ordering/capacity and auth decisions; HTTP tests validate JSON endpoints + 401/200; CI/local go test ./... passes.","AUTOSERVER","Tests must be deterministic; avoid flakey timing; don’t require network; keep coverage focused on new behavior.","Run go test ./...; manual smoke: enable/disable admin; enable auth; verify proxies still run unaffected.","未开始","未开始","未开始","未提交","","plan/2025-12-24_14-39-49-lightweight-web-dashboard.md:58;internal/server/admin/admin.go:31;internal/orchestrator/updater.go:114",""
"WEBUI-070","P1","8","backend","Harden rollout: limits, failure isolation, disable switches","Ensure dashboard components fail closed/safely and cannot impact core proxy forwarding; add practical limits and disable flags.","Admin/UI can be disabled via config; SSE has connection cap and heartbeat; failures in admin server do not crash proxy servers; documented rollback path is “disable admin/ui”.","AUTOE2E","Explicitly separate admin lifecycle from proxy listeners; ensure errors are logged without secrets; verify default-safe binding recommendations.","Manual fault tests: kill SSE client, exceed connection limit, simulate node list large; verify proxy serving continues; go test ./... passes.","未开始","未开始","未开始","未提交","","plan/2025-12-24_14-39-49-lightweight-web-dashboard.md:66;internal/server/admin/admin.go:45;cmd/easyproxypool/main.go:1",""
